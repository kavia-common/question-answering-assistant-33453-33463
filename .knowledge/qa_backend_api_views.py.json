{"is_source_file": true, "format": "Python", "description": "This file defines API views for a Q&A backend using Django REST Framework. It includes endpoints for health check, submitting questions to OpenAI, and retrieving Q&A history. It also contains internal logic to instantiate the OpenAI client dynamically.", "external_files": ["rest_framework.decorators", "rest_framework.response", "rest_framework", "drf_yasg.utils", ".models", ".serializers", "os", "openai"], "external_methods": ["rest_framework.decorators.api_view", "rest_framework.response.Response", "drf_yasg.utils.swagger_auto_schema"], "published": ["health", "ask_question", "qa_history"], "classes": [], "methods": [{"name": "_get_openai_client()", "description": "Internal helper to instantiate the OpenAI API client if the API key is present, returning the client or an error message.", "scope": "", "scopeKind": ""}, {"name": "health(request)", "description": "A simple health check endpoint that returns a message indicating server status.", "scope": "", "scopeKind": ""}, {"name": "ask_question(request)", "description": "Endpoint to accept a user question, invoke OpenAI API to generate an answer, and store the Q&A record.", "scope": "", "scopeKind": ""}, {"name": "qa_history(request)", "description": "Endpoint to return the list of Q&A records sorted by most recent.", "scope": "", "scopeKind": ""}], "calls": ["_get_openai_client()", "client.chat.completions.create"], "search-terms": ["api_view", "OpenAI", "qa_records", "ask_question", "health check", "Q&A API", "serializers", "swagger_auto_schema"], "state": 2, "file_id": 10, "knowledge_revision": 49, "git_revision": "ef752fb6c58e572aebcf46390684af7e97ba26fe", "revision_history": [{"33": "d19e8e8a22be2b85a949f6a3ecc81e7459f0ae0d"}, {"41": "d19e8e8a22be2b85a949f6a3ecc81e7459f0ae0d"}, {"44": "ef752fb6c58e572aebcf46390684af7e97ba26fe"}, {"49": "ef752fb6c58e572aebcf46390684af7e97ba26fe"}], "ctags": [{"_type": "tag", "name": "_get_openai_client", "path": "/home/kavia/workspace/code-generation/question-answering-assistant-33453-33463/qa_backend/api/views.py", "pattern": "/^def _get_openai_client():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "ask_question", "path": "/home/kavia/workspace/code-generation/question-answering-assistant-33453-33463/qa_backend/api/views.py", "pattern": "/^def ask_question(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/question-answering-assistant-33453-33463/qa_backend/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "qa_history", "path": "/home/kavia/workspace/code-generation/question-answering-assistant-33453-33463/qa_backend/api/views.py", "pattern": "/^def qa_history(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}], "hash": "38afa387013a6d315a6f86e6803cff46", "format-version": 4, "code-base-name": "qa_backend", "filename": "qa_backend/api/views.py"}